(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{6660:function(e,t,n){Promise.resolve().then(n.bind(n,311))},311:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return RandomKeyPage}});var a=n(7437),s=n(1052),r=n.n(s),o=n(7166),i=n.n(o);function KeyDisplay(e){let{data:t,stylesClass:n}=e;return(0,a.jsx)("ol",{className:i().container+(n?" "+n:""),children:t.map(e=>(0,a.jsx)("li",{className:i().item,children:e},e))})}var c=n(8278),l=n.n(c),u=n(6691),h=n.n(u),f={src:"/_next/static/media/repeat-icon-2-cropped.38d247ec.svg",height:23,width:21,blurWidth:0,blurHeight:0};function ShuffleButton(e){let{onClick:t}=e;return(0,a.jsx)("button",{type:"button",className:l().button,onClick:e=>{t(e),e.currentTarget.classList.add(l().pressed)},onAnimationEnd:e=>{e.currentTarget.classList.remove(l().pressed)},children:(0,a.jsx)(h(),{width:50,src:f,alt:"Перемешать",className:l().buttonImage})})}var d=n(7330);let p={sharp:"♯",flat:"♭"};var m=n(3890),_=n(2265);let g={natural:"",sharp:p.sharp,flat:p.flat};function RandomKeyPage(){let[e,t]=(0,_.useState)([]),n=(0,m.Dv)(d.U),s=(0,m.Dv)(d.Z),o=(0,_.useRef)(null),i=(0,_.useRef)([]),c=(0,_.useCallback)(()=>{t(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=e.slice(),a=n.length,s=0,r,o;for(;s<a-1&&s<t;)r=s+Math.floor(Math.random()*(a-s)),o=n[s],n[s]=n[r],n[r]=o,s++;return n.slice(0,t)}(i.current))},[]);return(0,_.useEffect)(()=>{s||n===o.current||(o.current=n,i.current=function(e){let t;let n=[];for(let a in e)for(let s in t=e[a])if(t[s]){let e=s.toUpperCase()+g[a];n.push(e)}return n}(n),c())},[s,n,c]),(0,_.useEffect)(()=>{let handleShuffleHotKey=e=>{"KeyR"===e.code&&c()};return s||window.addEventListener("keydown",handleShuffleHotKey),()=>{window.removeEventListener("keydown",handleShuffleHotKey)}},[c,s]),(0,a.jsxs)("div",{className:r().pageContainer,children:[(0,a.jsx)("h1",{className:r().heading,children:"Случайные тональности"}),(0,a.jsx)(KeyDisplay,{data:e,stylesClass:r().displayContainer}),(0,a.jsx)(ShuffleButton,{onClick:c})]})}},7330:function(e,t,n){"use strict";n.d(t,{U:function(){return r},Z:function(){return o}});var a=n(7665),s=n(7726);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};let r=globalThis.jotaiAtomCache.get("C:\\Users\\Артем\\Documents\\Web Dev\\music-practice\\src\\state\\atoms.ts/keysAtom",(0,s.O4)("selectedKeys",{natural:{c:!0,d:!0,e:!0,f:!0,g:!0,a:!0,b:!0},sharp:{c:!1,d:!1,e:!1,f:!1,g:!1,a:!1,b:!1},flat:{c:!1,d:!1,e:!1,f:!1,g:!1,a:!1,b:!1}})),o=globalThis.jotaiAtomCache.get("C:\\Users\\Артем\\Documents\\Web Dev\\music-practice\\src\\state\\atoms.ts/settingsSidebarAtom",(0,a.cn)(!1))},1052:function(e){e.exports={pageContainer:"page_pageContainer__GQudO",heading:"page_heading__PmJx0",displayContainer:"page_displayContainer__lh4wY"}},7166:function(e){e.exports={container:"key-display_container__XjDcA",item:"key-display_item__7IRnH"}},8278:function(e){e.exports={button:"shuffle-button_button__Vj6C0",buttonImage:"shuffle-button_buttonImage__JsGmF",pressed:"shuffle-button_pressed__rCaO_","scale-down":"shuffle-button_scale-down__B7gQK"}}},function(e){e.O(0,[901,726,691,971,472,744],function(){return e(e.s=6660)}),_N_E=e.O()}]);